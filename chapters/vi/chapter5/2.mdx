# Náº¿u nhÆ° dá»¯ liá»‡u cá»§a ta khÃ´ng trÃªn Hub thÃ¬ sao?

<CourseFloatingBanner chapter={5}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/vi/chapter5/section2.ipynb"},
    {label: "Aws Studio", value: "https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/vi/chapter5/section2.ipynb"},
]} />

Báº¡n biáº¿t cÃ¡ch sá»­ dá»¥ng [Hugging Face Hub](https://huggingface.co/datasets) Ä‘á»ƒ táº£i xuá»‘ng bá»™ dá»¯ liá»‡u, nhÆ°ng báº¡n sáº½ tháº¥y mÃ¬nh thÆ°á»ng lÃ m viá»‡c vá»›i dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn mÃ¡y tÃ­nh xÃ¡ch tay hoáº·c trÃªn mÃ¡y chá»§ tá»« xa. Trong pháº§n nÃ y, chÃºng tÃ´i sáº½ chá»‰ cho báº¡n cÃ¡ch ğŸ¤— Datasets cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ táº£i cÃ¡c táº­p dá»¯ liá»‡u khÃ´ng cÃ³ sáºµn trÃªn Hugging Face Hub.

<Youtube id="HyQgpJTkRdE"/>

## LÃ m viá»‡c vá»›i bá»™ dá»¯ liá»‡u cá»¥c bá»™ vÃ  tá»« xa

ğŸ¤— Datasets cung cáº¥p cÃ¡c táº­p lá»‡nh Ä‘á»ƒ xá»­ lÃ½ viá»‡c táº£i cÃ¡c táº­p dá»¯ liá»‡u cá»¥c bá»™ vÃ  tá»« xa. NÃ³ há»— trá»£ má»™t sá»‘ Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u phá»• biáº¿n, cháº³ng háº¡n nhÆ°:

|    Äá»‹nh dáº¡ng dá»¯ liá»‡u     | 
Táº­p lá»‡nh |                         VÃ­ dá»¥                         |
| :----------------: | :------------: | :-----------------------------------------------------: |
|     CSV & TSV      |     `csv`      |     `load_dataset("csv", data_files="my_file.csv")`     |
|     Text files     |     `text`     |    `load_dataset("text", data_files="my_file.txt")`     |
| JSON & JSON Lines  |     `json`     |   `load_dataset("json", data_files="my_file.jsonl")`    |
| Pickled DataFrames |    `pandas`    | `load_dataset("pandas", data_files="my_dataframe.pkl")` |

NhÆ° Ä‘Æ°á»£c hiá»ƒn thá»‹ trong báº£ng, Ä‘á»‘i vá»›i má»—i Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u, chÃºng ta chá»‰ cáº§n chá»‰ Ä‘á»‹nh loáº¡i táº­p lá»‡nh táº£i dá»¯ liá»‡u trong hÃ m `load_dataset()`, cÃ¹ng vá»›i tham sá»‘ `data_files` chá»‰ Ä‘á»‹nh Ä‘Æ°á»ng dáº«n Ä‘áº¿n má»™t hoáº·c nhiá»u tá»‡p. HÃ£y báº¯t Ä‘áº§u báº±ng cÃ¡ch táº£i má»™t táº­p dá»¯ liá»‡u tá»« cÃ¡c tá»‡p cá»¥c bá»™; Sau Ä‘Ã³, chÃºng ta sáº½ xem cÃ¡ch thá»±c hiá»‡n tÆ°Æ¡ng tá»± vá»›i cÃ¡c tá»‡p tá»« xa.

## Táº£i táº­p dá»¯ liá»‡u cá»¥c bá»™

Äá»‘i vá»›i vÃ­ dá»¥ nÃ y, chÃºng ta sáº½ sá»­ dá»¥ng [bá»™ dá»¯ liá»‡u SQuAD-it](https://github.com/crux82/squad-it/), lÃ  má»™t táº­p dá»¯ liá»‡u quy mÃ´ lá»›n cho tÃ¡c vá»¥ há»i Ä‘Ã¡p báº±ng tiáº¿ng Ã.

Pháº§n dá»¯ liá»‡u huáº¥n luyá»‡n vÃ  kiá»ƒm thá»­ Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn GitHub, vÃ¬ váº­y chÃºng tÃ´i cÃ³ thá»ƒ táº£i chÃºng xuá»‘ng báº±ng lá»‡nh `wget` Ä‘Æ¡n giáº£n:

```python
!wget https://github.com/crux82/squad-it/raw/master/SQuAD_it-train.json.gz
!wget https://github.com/crux82/squad-it/raw/master/SQuAD_it-test.json.gz
```

Thao tÃ¡c nÃ y sáº½ táº£i xuá»‘ng hai tá»‡p nÃ©n cÃ³ tÃªn *SQuAD_it-train.json.gz* vÃ  *SQuAD_it-test.json.gz*, chÃºng ta cÃ³ thá»ƒ giáº£i nÃ©n báº±ng lá»‡nh Linux `gzip`:

```python
!gzip -dkv SQuAD_it-*.json.gz
```

```bash
SQuAD_it-test.json.gz:	   87.4% -- replaced with SQuAD_it-test.json
SQuAD_it-train.json.gz:	   82.2% -- replaced with SQuAD_it-train.json
```

ChÃºng ta cÃ³ thá»ƒ tháº¥y ráº±ng cÃ¡c tá»‡p nÃ©n Ä‘Ã£ Ä‘Æ°á»£c thay tháº¿ báº±ng _SQuAD_it-train.json_ vÃ  _SQuAD_it-text.json_, vÃ  dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ á»Ÿ Ä‘á»‹nh dáº¡ng JSON.

<Tip>

âœ Náº¿u báº¡n Ä‘ang tháº¯c máº¯c táº¡i sao láº¡i cÃ³ kÃ½ tá»±`!` trong cÃ¡c lá»‡nh trÃªn, Ä‘Ã³ lÃ  bá»Ÿi vÃ¬ chÃºng ta Ä‘ang cháº¡y chÃºng trong má»™t sá»• ghi chÃ©p Jupyter. Chá»‰ cáº§n xÃ³a tiá»n tá»‘ nÃ y náº¿u báº¡n muá»‘n táº£i xuá»‘ng vÃ  giáº£i nÃ©n táº­p dá»¯ liá»‡u trÃªn terminal.

</Tip>

Äá»ƒ táº£i tá»‡p JSON báº±ng hÃ m `load_dataset()`, chÃºng ta chá»‰ cáº§n biáº¿t liá»‡u chÃºng ta Ä‘ang xá»­ lÃ½ JSON thÃ´ng thÆ°á»ng (tÆ°Æ¡ng tá»± nhÆ° tá»« Ä‘iá»ƒn lá»“ng nhau) hay JSON dÃ²ng (JSON Ä‘Æ°á»£c phÃ¢n tÃ¡ch báº±ng dÃ²ng). Giá»‘ng nhÆ° nhiá»u bá»™ dá»¯ liá»‡u há»i Ä‘Ã¡p, SQuAD-it sá»­ dá»¥ng Ä‘á»‹nh dáº¡ng lá»“ng nhau, vá»›i táº¥t cáº£ vÄƒn báº£n Ä‘Æ°á»£c lÆ°u trá»¯ trong trÆ°á»ng `data`. Äiá»u nÃ y cÃ³ nghÄ©a lÃ  chÃºng ta cÃ³ thá»ƒ táº£i táº­p dá»¯ liá»‡u báº±ng cÃ¡ch chá»‰ Ä‘á»‹nh tham sá»‘ `field` nhÆ° sau:

```py
from datasets import load_dataset

squad_it_dataset = load_dataset("json", data_files="SQuAD_it-train.json", field="data")
```

Theo máº·c Ä‘á»‹nh, viá»‡c táº£i cÃ¡c tá»‡p cá»¥c bá»™ sáº½ táº¡o ra má»™t Ä‘á»‘i tÆ°á»£ng `DatasetDict` vá»›i sá»± phÃ¢n chia cá»§a `train`. ChÃºng ta cÃ³ thá»ƒ tháº¥y Ä‘iá»u nÃ y báº±ng cÃ¡ch kiá»ƒm tra Ä‘á»‘i tÆ°á»£ng `squad_it_dataset`:

```py
squad_it_dataset
```

```python out
DatasetDict({
    train: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 442
    })
})
```

Äiá»u nÃ y cho chÃºng ta tháº¥y sá»‘ hÃ ng vÃ  cá»™t Ä‘Æ°á»£c liÃªn káº¿t vá»›i táº­p huáº¥n luyá»‡n. ChÃºng ta cÃ³ thá»ƒ xem má»™t trong cÃ¡c vÃ­ dá»¥ báº±ng cÃ¡ch láº­p chá»‰ má»¥c vÃ o pháº§n táº­p `train` nhÆ° sau:

```py
squad_it_dataset["train"][0]
```

```python out
{
    "title": "Terremoto del Sichuan del 2008",
    "paragraphs": [
        {
            "context": "Il terremoto del Sichuan del 2008 o il terremoto...",
            "qas": [
                {
                    "answers": [{"answer_start": 29, "text": "2008"}],
                    "id": "56cdca7862d2951400fa6826",
                    "question": "In quale anno si Ã¨ verificato il terremoto nel Sichuan?",
                },
                ...
            ],
        },
        ...
    ],
}
```

Tuyá»‡t, chÃºng ta Ä‘Ã£ táº£i táº­p dá»¯ liá»‡u cá»¥c bá»™ Ä‘áº§u tiÃªn cá»§a mÃ¬nh! NhÆ°ng trong khi Ä‘iá»u nÃ y hoáº¡t Ä‘á»™ng cho táº­p huáº¥n luyá»‡n, nhá»¯ng gÃ¬ chÃºng tÃ´i thá»±c sá»± muá»‘n lÃ  bao gá»“m cáº£ hai táº­p `train` vÃ  `test` trong má»™t Ä‘á»‘i tÆ°á»£ng `DatasetDict` duy nháº¥t Ä‘á»ƒ ta cÃ³ thá»ƒ Ã¡p dá»¥ng `Dataset.map()` trÃªn cáº£ hai pháº§n dá»¯ liá»‡u cÃ¹ng má»™t lÃºc. Äá»ƒ thá»±c hiá»‡n viá»‡c nÃ y, chÃºng ta cÃ³ thá»ƒ cung cáº¥p má»™t tá»« Ä‘iá»ƒn cho tham sá»‘ `data_files` Ã¡nh xáº¡ tá»«ng tÃªn pháº§n dá»¯ liá»‡u vá»›i má»™t tá»‡p Ä‘Æ°á»£c liÃªn káº¿t vá»›i cÃ¡c pháº§n Ä‘Ã³:

```py
data_files = {"train": "SQuAD_it-train.json", "test": "SQuAD_it-test.json"}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
squad_it_dataset
```

```python out
DatasetDict({
    train: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 442
    })
    test: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 48
    })
})
```
ÄÃ¢y chÃ­nh xÃ¡c lÃ  nhá»¯ng gÃ¬ chÃºng ta muá»‘n. Giá» Ä‘Ã¢y, ta cÃ³ thá»ƒ Ã¡p dá»¥ng nhiá»u ká»¹ thuáº­t tiá»n xá»­ lÃ½ khÃ¡c nhau Ä‘á»ƒ lÃ m sáº¡ch dá»¯ liá»‡u, mÃ£ hÃ³a cÃ¡c bÃ i Ä‘Ã¡nh giÃ¡, v.v.

<Tip>

Tham sá»‘ `data_files` cá»§a hÃ m `load_dataset()` khÃ¡ linh hoáº¡t vÃ  cÃ³ thá»ƒ lÃ  má»™t Ä‘Æ°á»ng dáº«n tá»‡p duy nháº¥t, danh sÃ¡ch cÃ¡c Ä‘Æ°á»ng dáº«n tá»‡p hoáº·c tá»« Ä‘iá»ƒn Ã¡nh xáº¡ cÃ¡c tÃªn tÃ¡ch thÃ nh Ä‘Æ°á»ng dáº«n tá»‡p. Báº¡n cÅ©ng cÃ³ thá»ƒ táº­p há»£p cÃ¡c tá»‡p phÃ¹ há»£p vá»›i má»™t máº«u Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh theo cÃ¡c quy táº¯c Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi Unix shell (vÃ­ dá»¥: báº¡n cÃ³ thá»ƒ tá»•ng há»£p táº¥t cáº£ cÃ¡c tá»‡p JSON trong má»™t thÆ° má»¥c dÆ°á»›i dáº¡ng má»™t láº§n tÃ¡ch duy nháº¥t báº±ng cÃ¡ch Ä‘áº·t `data_files="*.json"`). Xem [tÃ i liá»‡u](https://huggingface.co/docs/datasets/loading#local-and-remote-files) ğŸ¤— Datasets Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

</Tip>

CÃ¡c táº­p lá»‡nh táº£i trong ğŸ¤— Datasets thá»±c sá»± há»— trá»£ giáº£i nÃ©n tá»± Ä‘á»™ng cÃ¡c tá»‡p Ä‘áº§u vÃ o, vÃ¬ váº­y chÃºng ta cÃ³ thá»ƒ bá» qua viá»‡c sá»­ dá»¥ng `gzip` báº±ng cÃ¡ch trá» trá»±c tiáº¿p tham sá»‘ `data_files` vÃ o cÃ¡c tá»‡p nÃ©n:

```py
data_files = {"train": "SQuAD_it-train.json.gz", "test": "SQuAD_it-test.json.gz"}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
```

Äiá»u nÃ y cÃ³ thá»ƒ há»¯u Ã­ch náº¿u báº¡n khÃ´ng muá»‘n giáº£i nÃ©n nhiá»u tá»‡p GZIP theo cÃ¡ch thá»§ cÃ´ng. TÃ­nh nÄƒng giáº£i nÃ©n tá»± Ä‘á»™ng cÅ©ng Ã¡p dá»¥ng cho cÃ¡c Ä‘á»‹nh dáº¡ng phá»• biáº¿n khÃ¡c nhÆ° ZIP vÃ  TAR, vÃ¬ váº­y báº¡n chá»‰ cáº§n trá» `data_files` Ä‘áº¿n cÃ¡c tá»‡p nÃ©n vÃ  báº¡n Ä‘Ã£ sáºµn sÃ ng rá»“i!

BÃ¢y giá» báº¡n Ä‘Ã£ biáº¿t cÃ¡ch táº£i cÃ¡c tá»‡p cá»¥c bá»™ trÃªn mÃ¡y tÃ­nh xÃ¡ch tay hoáº·c mÃ¡y tÃ­nh Ä‘á»ƒ bÃ n cá»§a mÃ¬nh, hÃ£y cÃ¹ng xem cÃ¡ch táº£i cÃ¡c tá»‡p tá»« xa.

## Táº£i táº­p dá»¯ liá»‡u tá»« xa

Náº¿u báº¡n Ä‘ang lÃ m viá»‡c vá»›i tÆ° cÃ¡ch lÃ  nhÃ  khoa há»c dá»¯ liá»‡u hoáº·c láº­p trÃ¬nh viÃªn trong má»™t cÃ´ng ty, thÃ¬ ráº¥t cÃ³ thá»ƒ cÃ¡c bá»™ dá»¯ liá»‡u báº¡n muá»‘n phÃ¢n tÃ­ch Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn má»™t mÃ¡y chá»§ tá»« xa nÃ o Ä‘Ã³. May máº¯n thay, viá»‡c táº£i cÃ¡c tá»‡p tá»« xa cÅ©ng Ä‘Æ¡n giáº£n nhÆ° táº£i cÃ¡c tá»‡p cá»¥c bá»™! Thay vÃ¬ cung cáº¥p má»™t Ä‘Æ°á»ng dáº«n Ä‘áº¿n cÃ¡c tá»‡p cá»¥c bá»™, chÃºng ta trá» tham sá»‘ `data_files` cá»§a `load_dataset()` Ä‘áº¿n má»™t hoáº·c nhiá»u URL nÆ¡i cÃ¡c tá»‡p tá»« xa Ä‘Æ°á»£c lÆ°u trá»¯. VÃ­ dá»¥: Ä‘á»‘i vá»›i táº­p dá»¯ liá»‡u SQuAD-it Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn GitHub, chÃºng ta chá»‰ cáº§n trá» `data_files` Ä‘áº¿n cÃ¡c URL _SQuAD_it-*.json.gz_ nhÆ° sau:

```py
url = "https://github.com/crux82/squad-it/raw/master/"
data_files = {
    "train": url + "SQuAD_it-train.json.gz",
    "test": url + "SQuAD_it-test.json.gz",
}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
```

Äiá»u nÃ y tráº£ vá» cÃ¹ng má»™t Ä‘á»‘i tÆ°á»£ng `DatasetDict` nhÆ° á»Ÿ trÃªn, nhÆ°ng giÃºp ta tiáº¿t kiá»‡m bÆ°á»›c táº£i xuá»‘ng vÃ  giáº£i nÃ©n thá»§ cÃ´ng cÃ¡c tá»‡p  _SQuAD_it-*.json.gz_. Äiá»u nÃ y tá»•ng káº¿t bÆ°á»›c Ä‘á»™t phÃ¡ cá»§a chÃºng ta vÃ o cÃ¡c cÃ¡ch khÃ¡c nhau Ä‘á»ƒ táº£i cÃ¡c táº­p dá»¯ liá»‡u khÃ´ng Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn Hugging Face Hub. Giá» ta Ä‘Ã£ cÃ³ má»™t táº­p dá»¯ liá»‡u Ä‘á»ƒ nghá»‹ch, hÃ£y báº¯t tay vÃ o cÃ¡c ká»¹ thuáº­t sáº¯p xáº¿p dá»¯ liá»‡u khÃ¡c nhau thÃ´i!

<Tip>

âœï¸ **Thá»­ nghiá»‡m thÃ´i!** Chá»n má»™t táº­p dá»¯ liá»‡u khÃ¡c Ä‘Æ°á»£c lÆ°u trá»¯ trÃªn GitHub hoáº·c [Kho lÆ°u trá»¯ Há»c MÃ¡y UCI](https://archive.ics.uci.edu/ml/index.php) vÃ  thá»­ táº£i nÃ³ cáº£ cá»¥c bá»™ vÃ  tá»« xa báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c ká»¹ thuáº­t Ä‘Ã£ giá»›i thiá»‡u á»Ÿ trÃªn. Äá»ƒ cÃ³ Ä‘iá»ƒm thÆ°á»Ÿng, hÃ£y thá»­ táº£i táº­p dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ á»Ÿ Ä‘á»‹nh dáº¡ng CSV hoáº·c dáº¡ng vÄƒn báº£n (xem [tÃ i liá»‡u](https://huggingface.co/docs/datasets/loading#local-and-remote-files) Ä‘á»ƒ biáº¿t thÃªm thÃ´ng tin trÃªn cÃ¡c Ä‘á»‹nh dáº¡ng nÃ y).

</Tip>
