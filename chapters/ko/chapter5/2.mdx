# í•„ìš”í•œ ë°ì´í„°ì…‹ì´ Hubì— ì—†ë‹¤ë©´ ì–´ë–»ê²Œ í• ê¹Œìš”?[[what-if-my-dataset-isnt-on-the-hub]]

<CourseFloatingBanner chapter={5}
  classNames="absolute z-10 right-0 top-0"
  notebooks={[
    {label: "Google Colab", value: "https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/en/chapter5/section2.ipynb"},
    {label: "Aws Studio", value: "https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/en/chapter5/section2.ipynb"},
]} />

[Hugging Face Hub](https://huggingface.co/datasets)ë¥¼ í†µí•´ ë°ì´í„°ì…‹ì„ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ë°©ë²•ì€ ë°°ì› ì§€ë§Œ, Hubê°€ ì•„ë‹Œ ë¡œì»¬ í™˜ê²½ì´ë‚˜ ì›ê²© ì„œë²„ì— ì €ì¥ëœ ë°ì´í„°ë¡œ ì‘ì—…í•´ì•¼í•˜ëŠ” ê²½ìš°ë„ ë§ì´ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ì´ë²ˆ ì„¹ì…˜ì—ì„œëŠ” ğŸ¤— Datasetsë¥¼ ì´ìš©í•˜ì—¬ Hugging Face Hubì— ì—†ëŠ” ë°ì´í„°ì…‹ì„ ë¡œë”©í•˜ëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

<Youtube id="HyQgpJTkRdE"/>

## ë¡œì»¬ ë˜ëŠ” ì›ê²© ë°ì´í„°ì…‹ìœ¼ë¡œ ì‘ì—…í•˜ê¸°[[working-with-local-and-remote-datasets]]

ğŸ¤— DatasetsëŠ” ë¡œì»¬ ë˜ëŠ” ì›ê²© ë°ì´í„°ì…‹ ë¡œë”©ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì œê³µí•˜ë©° ë‹¤ìŒê³¼ ê°™ì´ ëª‡ ê°€ì§€ ì¼ë°˜ì ì¸ ë°ì´í„° í˜•ì‹ë“¤ì„ ì§€ì›í•©ë‹ˆë‹¤:

|    Data format     | Loading script |                         Example                         |
| :----------------: | :------------: | :-----------------------------------------------------: |
|     CSV & TSV      |     `csv`      |     `load_dataset("csv", data_files="my_file.csv")`     |
|     Text files     |     `text`     |    `load_dataset("text", data_files="my_file.txt")`     |
| JSON & JSON Lines  |     `json`     |   `load_dataset("json", data_files="my_file.jsonl")`    |
| Pickled DataFrames |    `pandas`    | `load_dataset("pandas", data_files="my_dataframe.pkl")` |

í…Œì´ë¸”ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´, íŒŒì¼ì— ëŒ€í•œ ê²½ë¡œë¥¼ ì§€ì •í•˜ëŠ” `data_files` ì¸ìˆ˜ì™€ í•¨ê»˜ `load_dataset()` í•¨ìˆ˜ì— ê° ë°ì´í„° í˜•ì‹ì— ë§ëŠ” ë¡œë”© ìŠ¤í¬ë¦½íŠ¸ ìœ í˜•ì„ ì§€ì •í•´ ì£¼ê¸°ë§Œí•˜ë©´ ë©ë‹ˆë‹¤. ì§€ê¸ˆë¶€í„° ë¡œì»¬ íŒŒì¼ì—ì„œ ë°ì´í„°ì…‹ì„ ë¡œë”©ì„ í•´ë³´ëŠ” ê²ƒìœ¼ë¡œ ì‹œì‘í•´ì„œ ì›ê²© íŒŒì¼ë¡œ ë™ì¼í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ë¡œì»¬ ë°ì´í„°ì…‹ ë¡œë”©í•˜ê¸°[[loading-a-local-dataset]]

ì´ë²ˆ ì˜ˆì œì—ì„œëŠ” ì´íƒˆë¦¬ì•„ì–´ ì§ˆì˜ì‘ë‹µ (QA) ëŒ€ê·œëª¨ ë°ì´í„°ì…‹ì¸ [SQuAD-it](https://github.com/crux82/squad-it/)ë¥¼ ì‚¬ìš©í•˜ê² ìŠµë‹ˆë‹¤.

í›ˆë ¨ ë° í…ŒìŠ¤íŠ¸ ë°ì´í„°ëŠ” Githubì— í˜¸ìŠ¤íŒ…ë˜ì–´ ìˆìœ¼ë¯€ë¡œ, ê°„ë‹¨í•œ `wget` ëª…ë ¹ì–´ë¥¼ í†µí•´ ë‹¤ìš´ë¡œë“œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
!wget https://github.com/crux82/squad-it/raw/master/SQuAD_it-train.json.gz
!wget https://github.com/crux82/squad-it/raw/master/SQuAD_it-test.json.gz
```

ì´ë ‡ê²Œí•˜ë©´ *SQuAD_it-train.json.gz*, *SQuAD_it-test.json.gz* ë‘ ê°œì˜ ì••ì¶• íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆê³ , `gzip` ë¦¬ëˆ…ìŠ¤ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì••ì¶•ì„ í’€ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```python
!gzip -dkv SQuAD_it-*.json.gz
```

```bash
SQuAD_it-test.json.gz:	   87.4% -- replaced with SQuAD_it-test.json
SQuAD_it-train.json.gz:	   82.2% -- replaced with SQuAD_it-train.json
```

ëª…ë ¹ì–´ë¥¼ í†µí•´ ì••ì¶• íŒŒì¼ë“¤ì´ ê°ê° _SQuAD_it-train.json_, _SQuAD_it-test.json_ ë¡œ ë°”ë€Œì–´ ì €ì¥ë˜ì–´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Tip>

âœ ìœ„ ì‰˜ ëª…ë ¹ì–´ì— `!`ê°€ ë¶™ëŠ” ì´ìœ ëŠ” ì£¼í”¼í„° ë…¸íŠ¸ë¶ì—ì„œ ì‹¤í–‰í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. í„°ë¯¸ë„ì—ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤ë©´ `!`ë¥¼ ì—†ì• ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

</Tip>

`load_dataset()` í•¨ìˆ˜ë¡œ JSON íŒŒì¼ì„ ë¡œë”©í•  ë•Œ, íŒŒì¼ì´ ì¼ë°˜ JSON (nested dictionaryì™€ ìœ ì‚¬)ìœ¼ë¡œ í˜•íƒœì¸ ì§€ í˜¹ì€ JSON Lines (ì¤„ë¡œ êµ¬ë¶„ëœ JSON)í˜•íƒœì¸ ì§€ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ë§ì€ ì§ˆì˜ì‘ë‹µ ë°ì´í„°ì…‹ì²˜ëŸ¼, SQuAD-it ë°ì´í„°ì…‹ì€ `data` í•„ë“œì— í…ìŠ¤íŠ¸ê°€ ëª¨ë‘ ì €ì¥ëœ nested í¬ë§·ì„ ì‚¬ìš©í•˜ë©°, ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ `field` ì¸ìˆ˜ë¥¼ ì§€ì •í•˜ì—¬ ë°ì´í„°ì…‹ì„ ë¡œë”©í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤:

```py
from datasets import load_dataset

squad_it_dataset = load_dataset("json", data_files="SQuAD_it-train.json", field="data")
```

ë””í´íŠ¸ë¡œ ë¡œì»¬ íŒŒì¼ì„ ë¡œë”©í•˜ë©´ `train` ìŠ¤í”Œë¦¿ì„ ê°€ì§„ `DatasetDict` ê°ì²´ê°€ ìƒì„±ë©ë‹ˆë‹¤. `squad_it_dataset` ê°ì²´ë¥¼ í†µí•´ ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```py
squad_it_dataset
```

```python out
DatasetDict({
    train: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 442
    })
})
```

ì´ê²ƒì€ `train` ìŠ¤í”Œë¦¿ì— ëŒ€í•œ í–‰ì˜ ìˆ˜ (num_rows)ì™€ ì—´ì˜ ì´ë¦„ (features)ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ë˜í•œ ë‹¤ìŒê³¼ ê°™ì´ `train` ìŠ¤í”Œë¦¿ì„ ì¸ë±ì‹±í•˜ì—¬ í•œ ì˜ˆì œë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```py
squad_it_dataset["train"][0]
```

```python out
{
    "title": "Terremoto del Sichuan del 2008",
    "paragraphs": [
        {
            "context": "Il terremoto del Sichuan del 2008 o il terremoto...",
            "qas": [
                {
                    "answers": [{"answer_start": 29, "text": "2008"}],
                    "id": "56cdca7862d2951400fa6826",
                    "question": "In quale anno si Ã¨ verificato il terremoto nel Sichuan?",
                },
                ...
            ],
        },
        ...
    ],
}
```

í›Œë¥­í•˜ê²Œ ì²« ë²ˆì§¸ ë¡œì»¬ ë°ì´í„°ì…‹ì„ ë¡œë”©í–ˆìŠµë‹ˆë‹¤! í•˜ì§€ë§Œ ìš°ë¦¬ê°€ í•˜ê³  ì‹¶ì€ ê²ƒì€ `train`ê³¼ `test` ìŠ¤í”Œë¦¿ì„ ëª¨ë‘ ì§€ë‹Œ í•˜ë‚˜ì˜ `DatasetDict` ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë‘ ìŠ¤í”Œë¦¿ì— ë™ì‹œì— `Dataset.map()` í•¨ìˆ˜ë¥¼ ì ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´, ê° ìŠ¤í”Œë¦¿ ì´ë¦„ì„ í•´ë‹¹ ìŠ¤í”Œë¦¿ê³¼ ê´€ë ¨ëœ íŒŒì¼ì— ë§¤í•‘í•˜ëŠ” dictionaryë¥¼ `data_files` ì¸ìˆ˜ë¡œ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```py
data_files = {"train": "SQuAD_it-train.json", "test": "SQuAD_it-test.json"}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
squad_it_dataset
```

```python out
DatasetDict({
    train: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 442
    })
    test: Dataset({
        features: ['title', 'paragraphs'],
        num_rows: 48
    })
})
```

ì´ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ê°€ ì›í–ˆë˜ ê²ƒì…ë‹ˆë‹¤. ì´ì œ ë‹¤ì–‘í•œ ì „ì²˜ë¦¬ ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì •ë¦¬í•˜ê³ , ë¦¬ë·°ë¥¼ í† í°í™”í•˜ëŠ” ë“±ì˜ ì‘ì—…ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

<Tip>

`load_dataset()` í•¨ìˆ˜ì˜ `data_files` ì¸ìˆ˜ëŠ” ë§¤ìš° ìœ ì—°í•˜ì—¬ í•˜ë‚˜ì˜ íŒŒì¼ ê²½ë¡œ (str), íŒŒì¼ ê²½ë¡œë“¤ì˜ ë¦¬ìŠ¤íŠ¸ (list) ë˜ëŠ” ìŠ¤í”Œë¦¿ ì´ë¦„ì„ ê° íŒŒì¼ ê²½ë¡œì— ë§¤í•‘í•˜ëŠ” dictionaryë¥¼ ê°’ìœ¼ë¡œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ Unix ì‰˜ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê·œì¹™ì— ë”°ë¼ ì§€ì •ëœ íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ” íŒŒì¼ë“¤ì„ globí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. (ì˜ˆë¥¼ ë“¤ì–´, `data_files="*.json"`ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ í•œ í´ë”ì— ìˆëŠ” ëª¨ë“  JSON íŒŒì¼ë“¤ì„ í•˜ë‚˜ì˜ ìŠ¤í”Œë¦¿ìœ¼ë¡œ globí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.) ìì„¸í•œ ë‚´ìš©ì€ ğŸ¤— Datasets [documentation](https://huggingface.co/docs/datasets/loading#local-and-remote-files)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</Tip>

ğŸ¤— Datasets ë¡œë”© ìŠ¤í¬ë¦½íŠ¸ëŠ” ì…ë ¥ íŒŒì¼ì˜ ìë™ ì••ì¶• í•´ì œë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì‹¤ì œë¡œ ì‚¬ìš©í•  ë•ŒëŠ” `data_files` ì¸ìˆ˜ë¡œ ì••ì¶• íŒŒì¼ì„ ì…ë ¥í•˜ë©´ `gzip` ì‚¬ìš©ì„ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```py
data_files = {"train": "SQuAD_it-train.json.gz", "test": "SQuAD_it-test.json.gz"}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
```

ì´ëŠ” ë§ì€ GZIP íŒŒì¼ë“¤ì„ ìˆ˜ë™ìœ¼ë¡œ ì••ì¶• í•´ì œí•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œ ìœ ìš©í•˜ë©°, ZIP, TARê³¼ ê°™ì€ ì¼ë°˜ì ì¸ í¬ë§·ë“¤ë„ ì§€ì›í•˜ë¯€ë¡œ `data_files`ì— í•´ë‹¹ íŒŒì¼ì„ ì…ë ¥í•´ ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤.

ë…¸íŠ¸ë¶ì´ë‚˜ ë°ìŠ¤í¬íƒ‘ì—ì„œ ë¡œì»¬ íŒŒì¼ì„ ë¡œë”©í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë´¤ìœ¼ë¯€ë¡œ, ì´ì œ ì›ê²© íŒŒì¼ì„ ë¡œë”©í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

## ì›ê²© ë°ì´í„°ì…‹ ë¡œë”©í•˜ê¸°[[loading-a-remote-dataset]]

ë§Œì•½ ë‹¹ì‹ ì´ íšŒì‚¬ì—ì„œ ë°ì´í„° ê³¼í•™ì ë˜ëŠ” ê°œë°œìë¡œ ì¼í•˜ê³  ìˆë‹¤ë©´ ë¶„ì„í•˜ë ¤ëŠ” ë°ì´í„°ì…‹ì´ ì›ê²© ì„œë²„ì— ì €ì¥ë˜ì–´ ìˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤. ë‹¤í–‰íˆ, ì›ê²© íŒŒì¼ì„ ë¡œë”©í•˜ëŠ” ê²ƒì€ ë¡œì»¬ íŒŒì¼ì„ ë¡œë”©í•˜ëŠ” ê²ƒë§Œí¼ ê°„ë‹¨í•©ë‹ˆë‹¤! ë¡œì»¬ íŒŒì¼ ê²½ë¡œë¥¼ ì…ë ¥í•˜ëŠ” ëŒ€ì‹ , `load_dataset()`ì˜ `data_files` ì¸ìˆ˜ì— ì›ê²© íŒŒì¼ë“¤ì´ ì €ì¥ë˜ì–´ ìˆëŠ” í•˜ë‚˜ ë˜ëŠ” ê·¸ ì´ìƒì˜ URLì„ ì…ë ¥í•´ì£¼ê¸°ë§Œ í•˜ë©´ ë©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, GitHubì—ì„œ í˜¸ìŠ¤íŒ…í•˜ê³  ìˆëŠ” SQuAD-it ë°ì´í„°ì…‹ì˜ ê²½ìš°, `data_files`ì— ë‹¤ìŒê³¼ ê°™ì´ _SQuAD_it-*.json.gz_ ì„ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤:

```py
url = "https://github.com/crux82/squad-it/raw/master/"
data_files = {
    "train": url + "SQuAD_it-train.json.gz",
    "test": url + "SQuAD_it-test.json.gz",
}
squad_it_dataset = load_dataset("json", data_files=data_files, field="data")
```

ì´ì™€ ê°™ì€ ë°©ë²•ì„ í†µí•´ ìœ„ì—ì„œ ì–»ì€ ê²ƒê³¼ ê°™ì´ `DatasetDict` ê°ì²´ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©° ìˆ˜ë™ìœ¼ë¡œ íŒŒì¼ë“¤ì„ ë‹¤ìš´ë¡œë“œë°›ê³  ì••ì¶•ì„ í‘¸ëŠ” ì‘ì—…ì„ ìƒëµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì§€ê¸ˆê¹Œì§€ Hugging Face Hubì—ì„œ í˜¸ìŠ¤íŒ…ë˜ì–´ ìˆì§€ ì•Šì€ ë°ì´í„°ì…‹ì„ ë¡œë”©í•˜ëŠ” ë‹¤ì–‘í•œ ë°©ë²•ì„ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ë¤„ë³¼ ë°ì´í„°ì…‹ì„ ì–»ì—ˆìœ¼ë‹ˆ ë‹¤ì–‘í•œ ë°ì´í„° ì „ì²˜ë¦¬ ê¸°ë²•ì„ ë°°ì›Œë³´ë„ë¡ í•©ì‹œë‹¤.

<Tip>

âœï¸ **ì‹œë„í•´ ë³´ì„¸ìš”!** GitHub ë˜ëŠ” [UCI Machine Learning Repository](https://archive.ics.uci.edu/ml/index.php)ì—ì„œ í˜¸ìŠ¤íŒ…ë˜ëŠ” ë‹¤ë¥¸ ë°ì´í„°ì…‹ì„ ì„ íƒí•˜ì—¬ ìœ„ì—ì„œ ë°°ìš´ ê¸°ìˆ ì„ í†µí•´ ë¡œì»¬ ë˜ëŠ” ì›ê²©ìœ¼ë¡œ ë¡œë”©í•´ ë³´ì‹œê³ , ì¶”ê°€ì ìœ¼ë¡œ CSV ë˜ëŠ” í…ìŠ¤íŠ¸ í¬ë§·ìœ¼ë¡œ ì €ì¥ëœ ë°ì´í„°ì…‹ë„ ë¡œë”©ì„ ì‹œë„í•´ ë³´ì‹œê¸¸ ë°”ëë‹ˆë‹¤. (ì´ í¬ë§·ë“¤ì— ëŒ€í•œ ìì„¸í•œ ì •ë³´ëŠ” [documentation](https://huggingface.co/docs/datasets/loading#local-and-remote-files)ì„ ì°¸ì¡°í•˜ì„¸ìš”.)

</Tip>


